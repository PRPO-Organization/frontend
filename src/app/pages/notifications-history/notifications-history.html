<div class="container py-4 my-5">

  <h2 class="mb-4">Notification History</h2>

  <!-- Loading -->
  <div *ngIf="loading" class="text-center mt-5">
    <div class="spinner-border" role="status"></div>
    <p class="mt-3 text-muted">Loading notifications...</p>
  </div>

  <!-- No notifications -->
  <div *ngIf="!loading && notifications.length === 0" class="text-center text-muted mt-5">
    <h5>No notifications found.</h5>
  </div>

  <!-- Notification list -->
  <div *ngIf="!loading && notifications.length > 0">

    <div *ngFor="let n of paginatedNotifications" class="card mb-3 shadow-sm">

      <div class="card-body">
        <div class="d-flex justify-content-between align-items-center">
          <h5 class="card-title mb-0">{{ n.subject }}</h5>

          <span class="badge bg-secondary" *ngIf="n.read">Read</span>
          <span class="badge bg-primary" *ngIf="!n.read">Unread</span>
        </div>

        <p class="card-text mt-2">{{ n.body }}</p>

        <small class="text-muted">
          {{ n.createdAt | date:'medium' }}
        </small>
      </div>

    </div>

  </div>

  <!-- Pagination -->
  <nav *ngIf="!loading && totalPages > 1" class="mt-4">
    <ul class="pagination justify-content-center">

      <!-- Previous -->
      <li class="page-item" [class.disabled]="currentPage === 1">
        <button class="page-link" (click)="goToPage(currentPage - 1)">Previous</button>
      </li>

      <!-- Page numbers -->
      <li
        class="page-item"
        *ngFor="let page of pages"
        [class.active]="page === currentPage"
      >
        <button class="page-link" (click)="goToPage(page)">
          {{ page }}
        </button>
      </li>

      <!-- Next -->
      <li class="page-item" [class.disabled]="currentPage === totalPages">
        <button class="page-link" (click)="goToPage(currentPage + 1)">Next</button>
      </li>

    </ul>
  </nav>

</div>
